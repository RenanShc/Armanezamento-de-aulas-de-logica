local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

local flySpeed = 50 -- Ajuste a velocidade de voo
local isFlying = false

UserInputService.InputBegan:Connect(function(input, gameProcessedEvent)
    if not gameProcessedEvent then
        if input.KeyCode == Enum.KeyCode.E then
            if not isFlying then
                isFlying = true
                humanoid.JumpPower = 0 -- Remove a força de pulo padrão
                humanoid.Jump = true -- Ativa o pulo
            end
        end
    end
end)

UserInputService.InputEnded:Connect(function(input, gameProcessedEvent)
    if not gameProcessedEvent then
        if input.KeyCode == Enum.KeyCode.E then
            if isFlying then
                isFlying = false
                humanoid.JumpPower = 50 -- Restaura a força de pulo padrão
            end
        end
    end
end)

RunService.Stepped:Connect(function()
    if isFlying then
        humanoid.Jump = false -- Evita que o personagem pule continuamente
        humanoid.MoveDirection = Vector3.new(0, flySpeed, 0) -- Aplica a força para cima
    end
end)
